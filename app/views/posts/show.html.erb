<div class="card mb-4 rounded-3 shadow-sm">
  <div class="card-body">
    <p class="fw-bold">
      <svg xmlns="http://www.w3.org/2000/svg" width="30" fill="#ee538d" class="bi bi-person-circle me-sm-1" viewBox="0 0 16 16">
        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
      </svg>
      <%= link_to User.find(@post.user_id).username, profile_path(User.find(@post.user_id).id), class: "no-decoration" %> 
    </p>  
    <p><%= image_tag @post.picture.url(:large), class: 'content-img img-show', alt: @post.title if @post.picture? %></p>
    <p> <%= @post.body %> </p>
    <hr>
    <%= link_to "Edit", edit_post_path(@post), :class => "btn btn-lg btn-outline-pink" %>
    <%= 
      link_to "Delete", post_path(@post), method: :delete, 
      data: {confirm: "Delete post?"}, :class => "btn btn-lg btn-pink" 
    %>
    <hr>
    <div class="card-body">
      
      <h3> Comments </h3>
      <% @post.comments.each do |comment| %>
        <div class="card mb-2 rounded-5 shadow-sm">
          <div class="card-body">
            <p> <b> <%= User.find(comment.user_id).username %> </b> <%= comment.body %> </p>
          </div>
        </div>
      <% end %>
      <hr>
    
      <%= form_with model: @post.comments.build, url: [@post, @post.comments.build] do |f| %>   
      <!--  <p>
            User <br>
            <%= f.text_field(:username, {:class => 'form-control'}) %>
        </p>  
      -->
        <p>
            Comment <br>
            <%= f.text_area(:body, {:class => 'form-control'}) %>
        </p>  
        <p>
            <%= f.submit("Send", {:class => 'btn btn-success'}) %> <!-- submit calls create method -->
        </p>
      <% end %>
    </div>
  </div>
</div>